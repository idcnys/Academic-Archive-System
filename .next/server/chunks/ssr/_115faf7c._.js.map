{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///home/bitto/ArchiveModel/lib/drive-config.js"],"sourcesContent":["export const DRIVE_CONFIG = {\n  ROOT_FOLDER_ID: \"/\",\n};\n\nexport const getRootFolderId = () => {\n  return DRIVE_CONFIG.ROOT_FOLDER_ID;\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,eAAe;IAC1B,gBAAgB;AAClB;AAEO,MAAM,kBAAkB;IAC7B,OAAO,aAAa,cAAc;AACpC","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///home/bitto/ArchiveModel/app/drive/page.jsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\n\nexport default function DriveRedirect() {\n  // Immediately redirect to the homepage\n  redirect(\"/\");\n}\n\"use client\";\n\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { useEffect, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { lato } from \"@/app/ui/fonts\";\nimport { getRootFolderId } from \"@/lib/drive-config\";\nimport Loading from \"../loading\";\n\nexport default function DrivePage() {\n  const [rootFolders, setRootFolders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // Clear breadcrumb when visiting the main drive page\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"driveBreadcrumb\");\n    }\n\n    const fetchRootFolders = async () => {\n      try {\n        setLoading(true);\n        const rootFolderId = getRootFolderId();\n\n        if (!rootFolderId || rootFolderId === \"your-root-folder-id-here\") {\n          throw new Error(\n            \"Please configure your Google Drive root folder ID in lib/drive-config.js\"\n          );\n        }\n\n        const response = await fetch(`/api/drive/`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ folderId: rootFolderId }),\n        });\n\n        if (!response.ok) {\n          const errorData = await response.json().catch(() => ({}));\n          const errorMessage =\n            errorData.error ||\n            `HTTP ${response.status}: ${response.statusText}`;\n          throw new Error(errorMessage);\n        }\n\n        const data = await response.json();\n\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        // Filter only folders for the main drive page\n        const folders =\n          data.files?.filter(\n            (file) => file.mimeType === \"application/vnd.google-apps.folder\"\n          ) || [];\n\n        setRootFolders(folders);\n      } catch (err) {\n        setError(err.message);\n        console.error(\"Error fetching root folders:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRootFolders();\n  }, []);\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex justify-center items-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"text-red-500 mb-4\">Error: {error}</div>\n          <p className=\"text-gray-600 dark:text-gray-400 text-sm\">\n            Please make sure you have configured your Google Drive API\n            credentials and updated the root folder ID in this component.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <br />\n      <br />\n      <div className={lato.className + \" px-4 lg:px-6\"}>\n        <div className=\"bg-[#ffffff78] dark:bg-gray-900 px-4 lg:px-6 py-8 rounded-lg shadow-md\">\n          <div className=\"mx-auto\">\n            {/* Breadcrumb Navigation */}\n            <nav className=\"mb-6\" aria-label=\"Breadcrumb\">\n              <ol className=\"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400\">\n                <li>\n                  <span className=\"font-medium text-gray-900 dark:text-gray-100\">\n                    <i className=\"fas fa-home mr-1\"></i>\n                    Drive\n                  </span>\n                </li>\n              </ol>\n            </nav>\n\n            <h1 className=\"text-3xl text-center font-bold mb-6 text-gray-700 dark:text-gray-300\">\n              Drive Folders\n            </h1>\n\n            {rootFolders.length === 0 ? (\n              <p className=\"text-2xl text-center text-gray-700 dark:text-gray-300\">\n                No folders found in the root directory.\n              </p>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                {rootFolders.map((folder, index) => (\n                  <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    whileInView={{ opacity: 1, y: 0 }}\n                    transition={{ duration: 0.5, delay: index * 0.1 }}\n                    viewport={{ once: true }}\n                    key={folder.id}\n                    className=\"p-4 rounded-lg\"\n                  >\n                    <Link href={`/drive/${folder.id}`}>\n                      <div className=\"flex flex-col items-center gap-1 hover:scale-105 transition-transform duration-300 cursor-pointer\">\n                        {/* Folder icon */}\n                        <div className=\"text-6xl\">\n                          <Image\n                            src=\"/images/folder.svg\"\n                            alt=\"Folder Icon\"\n                            width={80}\n                            height={80}\n                          />\n                        </div>\n\n                        <div className=\"text-center\">\n                          <h3 className=\"font-semibold text-gray-700 dark:text-gray-300 text-wrap truncate\">\n                            {folder.name}\n                          </h3>\n                        </div>\n                      </div>\n                    </Link>\n                  </motion.div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <br />\n      <br />\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}